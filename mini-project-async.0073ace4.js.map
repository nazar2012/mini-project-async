{"mappings":"ACAA,IAAM,EAAO,SAAS,cAAc,CAAC,eAC/B,EAAO,SAAS,aAAa,CAAC,YAC9B,EAAU,SAAS,aAAa,CAAC,SAInC,EAAO,EACP,EAAa,GAEjB,eAAe,IACb,GAAI,CACF,IAAM,EAAM,sEAAsE,UAAmB,sDAA0C,CACzI,EAAW,MAAM,MAAM,GAE7B,MAAO,AADM,CAAA,MAAM,EAAS,IAAI,EAAhC,EACY,IAAI,AAClB,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,GAAG,CAAC,oBACL,EAAE,AACX,CACF,CAGA,eAAe,EAAU,CAAG,EAC1B,IAAM,EAAO,EAAI,GAAG,CAAC,CAAC,CAAA,aAAE,CAAY,CAAA,MAAE,CAAK,CAAA,MAAE,CAAK,CAAA,SAAE,CAAQ,CAAA,UAAE,CAAS,CAAA,KAAE,CAAI,CAAE,GACtE,CAAC;A;AAEc,0BAAA,EAAE,EAAa,OAAO,EAAE,EAAK;A;A;A;AAIjD,MAAA,EAAE;A;A;A;AAIF,MAAA,EAAE;A;A;A;AAIF,MAAA,EAAE;A;A;A;AAIF,MAAA,EAAE;A;A;A;AAIH,KAAA,CAAC,EACD,IAAI,CAAC,IACR,EAAK,kBAAkB,CAAC,YAAa,EACvC,CAaA,eAAe,EAAY,CAAW,EAChC,IACF,EAAO,EACP,EAAK,SAAS,CAAG,IAEnB,IAAM,EAAS,MAAM,GACrB,OAAM,EAAU,GACZ,AAhEW,KAgEX,EAAO,MAAM,EACf,EAAQ,KAAK,CAAC,OAAO,CAAG,QACxB,GAAQ,GAER,EAAQ,KAAK,CAAC,OAAO,CAAG,MAE5B,CAxBA,EAAK,gBAAgB,CAAC,SAAU,MAAO,IACrC,EAAM,cAAc,GAEpB,EADa,EAAM,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAErD,MAAM,EAAY,CAAA,EACpB,GAEA,EAAQ,gBAAgB,CAAC,QAAS,UAChC,MAAM,EAAY,CAAA,EACpB","sources":["<anon>","src/app.js"],"sourcesContent":["var $6f40c3a58f594b58$exports = {};\nconst $6f40c3a58f594b58$var$form = document.getElementById(\"search-form\");\nconst $6f40c3a58f594b58$var$list = document.querySelector(\".gallery\");\nconst $6f40c3a58f594b58$var$loadBtn = document.querySelector(\".load\");\nconst $6f40c3a58f594b58$var$API_KEY = \"54040917-f9e6420d7887ca7f24aa85fec\";\nconst $6f40c3a58f594b58$var$PER_PAGE = 12;\nlet $6f40c3a58f594b58$var$page = 1;\nlet $6f40c3a58f594b58$var$searchText = \"\";\nasync function $6f40c3a58f594b58$var$getImg() {\n    try {\n        const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${$6f40c3a58f594b58$var$searchText}&page=${$6f40c3a58f594b58$var$page}&per_page=${$6f40c3a58f594b58$var$PER_PAGE}&key=${$6f40c3a58f594b58$var$API_KEY}`;\n        const response = await fetch(url);\n        const data = await response.json();\n        return data.hits;\n    } catch (error) {\n        console.log(\"\\u0421\\u0442\\u0430\\u043B\\u0430\\u0441\\u044F \\u043F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430(\");\n        return [];\n    }\n}\n// getImg().then(res => renderImg(res))\nasync function $6f40c3a58f594b58$var$renderImg(arr) {\n    const item = arr.map(({ webformatURL: webformatURL, likes: likes, views: views, comments: comments, downloads: downloads, tags: tags })=>{\n        return `<li>\n        <div class=\"photo-card\">\n  <img class=\"image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n  <div class=\"stats\">\n    <p class=\"stats-item\">\n      <i class=\"material-icons\">thumb_up</i>\n      ${likes}\n    </p>\n    <p class=\"stats-item\">\n      <i class=\"material-icons\">visibility</i>\n      ${views}\n    </p>\n    <p class=\"stats-item\">\n      <i class=\"material-icons\">comment</i>\n      ${comments}\n    </p>\n    <p class=\"stats-item\">\n      <i class=\"material-icons\">cloud_download</i>\n      ${downloads}\n    </p>\n  </div>\n</div>\n</li>`;\n    }).join(\"\");\n    $6f40c3a58f594b58$var$list.insertAdjacentHTML(\"beforeend\", item);\n}\n$6f40c3a58f594b58$var$form.addEventListener(\"submit\", async (event)=>{\n    event.preventDefault();\n    const text = event.currentTarget.elements.query.value;\n    $6f40c3a58f594b58$var$searchText = text;\n    await $6f40c3a58f594b58$var$downloadImg(true);\n});\n$6f40c3a58f594b58$var$loadBtn.addEventListener(\"click\", async ()=>{\n    await $6f40c3a58f594b58$var$downloadImg(false);\n});\nasync function $6f40c3a58f594b58$var$downloadImg(isNewSearch) {\n    if (isNewSearch) {\n        $6f40c3a58f594b58$var$page = 1;\n        $6f40c3a58f594b58$var$list.innerHTML = \"\";\n    }\n    const images = await $6f40c3a58f594b58$var$getImg();\n    await $6f40c3a58f594b58$var$renderImg(images);\n    if (images.length === $6f40c3a58f594b58$var$PER_PAGE) {\n        $6f40c3a58f594b58$var$loadBtn.style.display = \"block\";\n        $6f40c3a58f594b58$var$page += 1;\n    } else $6f40c3a58f594b58$var$loadBtn.style.display = \"none\";\n}\n\n\n//# sourceMappingURL=mini-project-async.0073ace4.js.map\n","const form = document.getElementById(\"search-form\")\nconst list = document.querySelector(\".gallery\")\nconst loadBtn = document.querySelector(\".load\")\n\nconst API_KEY = \"54040917-f9e6420d7887ca7f24aa85fec\"\nconst PER_PAGE = 12\nlet page = 1;\nlet searchText = \"\"\n\nasync function getImg() {\n  try {\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchText}&page=${page}&per_page=${PER_PAGE}&key=${API_KEY}`;\n    const response = await fetch(url)\n    const data = await response.json()\n    return data.hits\n  } catch (error) {\n    console.log(\"Сталася помилка(\");\n    return []\n  }\n}\n// getImg().then(res => renderImg(res))\n\nasync function renderImg(arr) {\n  const item = arr.map(({ webformatURL, likes, views, comments, downloads, tags }) => {\n    return `<li>\n        <div class=\"photo-card\">\n  <img class=\"image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n  <div class=\"stats\">\n    <p class=\"stats-item\">\n      <i class=\"material-icons\">thumb_up</i>\n      ${likes}\n    </p>\n    <p class=\"stats-item\">\n      <i class=\"material-icons\">visibility</i>\n      ${views}\n    </p>\n    <p class=\"stats-item\">\n      <i class=\"material-icons\">comment</i>\n      ${comments}\n    </p>\n    <p class=\"stats-item\">\n      <i class=\"material-icons\">cloud_download</i>\n      ${downloads}\n    </p>\n  </div>\n</div>\n</li>`\n  }).join(\"\")\n  list.insertAdjacentHTML(\"beforeend\", item)\n}\n\nform.addEventListener(\"submit\", async (event) => {\n  event.preventDefault()\n  const text = event.currentTarget.elements.query.value\n  searchText = text\n  await downloadImg(true)\n})\n\nloadBtn.addEventListener(\"click\", async () => {\n  await downloadImg(false)\n})\n\nasync function downloadImg(isNewSearch) {\n  if (isNewSearch) {\n    page = 1\n    list.innerHTML = \"\"\n  }\n  const images = await getImg()\n  await renderImg(images)\n  if (images.length === PER_PAGE) {\n    loadBtn.style.display = \"block\"\n    page += 1\n  } else {\n    loadBtn.style.display = \"none\"\n  }\n}"],"names":["$6f40c3a58f594b58$var$form","document","getElementById","$6f40c3a58f594b58$var$list","querySelector","$6f40c3a58f594b58$var$loadBtn","$6f40c3a58f594b58$var$page","$6f40c3a58f594b58$var$searchText","$6f40c3a58f594b58$var$getImg","url","response","fetch","data","json","hits","error","console","log","$6f40c3a58f594b58$var$renderImg","arr","item","map","webformatURL","likes","views","comments","downloads","tags","join","insertAdjacentHTML","$6f40c3a58f594b58$var$downloadImg","isNewSearch","innerHTML","images","length","style","display","addEventListener","event","preventDefault","currentTarget","elements","query","value"],"version":3,"file":"mini-project-async.0073ace4.js.map"}